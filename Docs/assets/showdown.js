//
// showdown.js -- A javascript port of Markdown.
//
// Copyright (c) 2007 John Fraser.
//
// Original Markdown Copyright (c) 2004-2005 John Gruber
//   <http://daringfireball.net/projects/markdown/>
//
// Redistributable under a BSD-style open source license.
// See license.txt for more information.
//
// The full source distribution is at:
//
//				A A L
//				T C A
//				T K B
//
//   <http://www.attacklab.net/>
var Showdown={};Showdown.converter=function(){var s;var r;var p;var n=0;this.makeHtml=function(H){s=new Array();r=new Array();p=new Array();H=H.replace(/~/g,"~T");H=H.replace(/\$/g,"~D");H=H.replace(/\r\n/g,"\n");H=H.replace(/\r/g,"\n");H="\n\n"+H+"\n\n";H=k(H);H=H.replace(/^[ \t]+$/mg,"");H=i(H);H=h(H);H=g(H);H=q(H);H=H.replace(/~D/g,"$$");H=H.replace(/~T/g,"~");return H};var h=function(H){var H=H.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(L,M,K,J,I){M=M.toLowerCase();s[M]=l(K);if(J){return J+I}else{if(I){r[M]=I.replace(/"/g,"&quot;")}}return""});return H};var i=function(J){J=J.replace(/\n/g,"\n\n");var I="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del";var H="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";J=J.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,d);J=J.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,d);J=J.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,d);J=J.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,d);J=J.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,d);J=J.replace(/\n\n/g,"\n");return J};var d=function(J,I){var H=I;H=H.replace(/\n\n/g,"\n");H=H.replace(/^\n/,"");H=H.replace(/\n+$/g,"");H="\n\n~K"+(p.push(H)-1)+"K\n\n";return H};var g=function(H){H=j(H);var I=f("<hr />");H=H.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,I);H=H.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,I);H=H.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,I);H=e(H);H=c(H);H=a(H);H=i(H);H=D(H);return H};var C=function(H){H=B(H);H=A(H);H=z(H);H=y(H);H=v(H);H=u(H);H=l(H);H=t(H);H=H.replace(/  +\n/g," <br />\n");return H};var A=function(I){var H=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;I=I.replace(H,function(K){var J=K.replace(/(.)<\/?code>(?=.)/g,"$1`");J=x(J,"\\`*_");return J});return I};var v=function(H){H=H.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,G);H=H.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,G);H=H.replace(/(\[([^\[\]]+)\])()()()()()/g,G);return H};var G=function(Q,U,T,S,R,P,O,N){if(N==undefined){N=""}var I=U;var M=T;var L=S.toLowerCase();var H=R;var K=N;if(H==""){if(L==""){L=M.toLowerCase().replace(/ ?\n/g," ")}H="#"+L;if(s[L]!=undefined){H=s[L];if(r[L]!=undefined){K=r[L]}}else{if(I.search(/\(\s*\)$/m)>-1){H=""}else{return I}}}H=x(H,"*_");var J='<a href="'+H+'"';if(K!=""){K=K.replace(/"/g,"&quot;");K=x(K,"*_");J+=' title="'+K+'"'}J+=">"+M+"</a>";return J};var y=function(H){H=H.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,o);H=H.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,o);return H};var o=function(N,U,T,S,R,Q,P,O){var I=U;var M=T;var L=S.toLowerCase();var H=R;var K=O;if(!K){K=""}if(H==""){if(L==""){L=M.toLowerCase().replace(/ ?\n/g," ")}H="#"+L;if(s[L]!=undefined){H=s[L];if(r[L]!=undefined){K=r[L]}}else{return I}}M=M.replace(/"/g,"&quot;");H=x(H,"*_");var J='<img src="'+H+'" alt="'+M+'"';K=K.replace(/"/g,"&quot;");K=x(K,"*_");J+=' title="'+K+'"';J+=" />";return J};var j=function(H){H=H.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(J,I){return f("<h1>"+C(I)+"</h1>")});H=H.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(J,I){return f("<h2>"+C(I)+"</h2>")});H=H.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(L,K,J){var I=K.length;return f("<h"+I+">"+C(J)+"</h"+I+">")});return H};var w;var e=function(I){I+="~0";var H=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;if(n){I=I.replace(H,function(J,L,K){var O=L;var M=(K.search(/[*+-]/g)>-1)?"ul":"ol";O=O.replace(/\n{2,}/g,"\n\n\n");var N=w(O);N=N.replace(/\s+$/,"");N="<"+M+">"+N+"</"+M+">\n";return N})}else{H=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;I=I.replace(H,function(Q,O,M,K){var P=O;var N=M;var L=(K.search(/[*+-]/g)>-1)?"ul":"ol";var N=N.replace(/\n{2,}/g,"\n\n\n");var J=w(N);J=P+"<"+L+">\n"+J+"</"+L+">\n";return J})}I=I.replace(/~0/,"");return I};w=function(H){n++;H=H.replace(/\n{2,}$/,"\n");H+="~0";H=H.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(N,M,L,K,J){var P=J;var I=M;var O=L;if(I||(P.search(/\n{2,}/)>-1)){P=g(m(P))}else{P=e(m(P));P=P.replace(/\n$/,"");P=C(P)}return"<li>"+P+"</li>\n"});H=H.replace(/~0/g,"");n--;return H};var c=function(H){H+="~0";H=H.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(M,K,I){var L=K;var J=I;L=b(m(L));L=k(L);L=L.replace(/^\n+/g,"");L=L.replace(/\n+$/g,"");L="<pre><code>"+L+"\n</code></pre>";return f(L)+J});H=H.replace(/~0/,"");return H};var f=function(H){H=H.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(p.push(H)-1)+"K\n\n"};var B=function(H){H=H.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(M,L,K,J,I){var N=J;N=N.replace(/^([ \t]*)/g,"");N=N.replace(/[ \t]*$/g,"");N=b(N);return L+"<code>"+N+"</code>"});return H};var b=function(H){H=H.replace(/&/g,"&amp;");H=H.replace(/</g,"&lt;");H=H.replace(/>/g,"&gt;");H=x(H,"*_{}[]\\",false);return H};var t=function(H){H=H.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>");H=H.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>");return H};var a=function(H){H=H.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(K,I){var J=I;J=J.replace(/^[ \t]*>[ \t]?/gm,"~0");J=J.replace(/~0/g,"");J=J.replace(/^[ \t]+$/gm,"");J=g(J);J=J.replace(/(^|\n)/g,"$1  ");J=J.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(M,L){var N=L;N=N.replace(/^  /mg,"~0");N=N.replace(/~0/g,"");return N});return f("<blockquote>\n"+J+"\n</blockquote>")});return H};var D=function(M){M=M.replace(/^\n+/g,"");M=M.replace(/\n+$/g,"");var L=M.split(/\n{2,}/g);var K=new Array();var H=L.length;for(var J=0;J<H;J++){var N=L[J];if(N.search(/~K(\d+)K/g)>=0){K.push(N)}else{if(N.search(/\S/)>=0){N=C(N);N=N.replace(/^([ \t]*)/g,"<p>");N+="</p>";K.push(N)}}}H=K.length;for(var J=0;J<H;J++){while(K[J].search(/~K(\d+)K/)>=0){var I=p[RegExp.$1];I=I.replace(/\$/g,"$$$$");K[J]=K[J].replace(/~K\d+K/,I)}}return K.join("\n\n")};var l=function(H){H=H.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");H=H.replace(/<(?![a-z\/?\$!])/gi,"&lt;");return H};var z=function(H){H=H.replace(/\\(\\)/g,F);H=H.replace(/\\([`*_{}\[\]()>#+-.!])/g,F);return H};var u=function(H){H=H.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>');H=H.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(J,I){return E(q(I))});return H};var E=function(H){function J(K){var L="0123456789ABCDEF";var M=K.charCodeAt(0);return(L.charAt(M>>4)+L.charAt(M&15))}var I=[function(K){return"&#"+K.charCodeAt(0)+";"},function(K){return"&#x"+J(K)+";"},function(K){return K}];H="mailto:"+H;H=H.replace(/./g,function(K){if(K=="@"){K=I[Math.floor(Math.random()*2)](K)}else{if(K!=":"){var L=Math.random();K=(L>0.9?I[2](K):L>0.45?I[1](K):I[0](K))}}return K});H='<a href="'+H+'">'+H+"</a>";H=H.replace(/">.+:/g,'">');return H};var q=function(H){H=H.replace(/~E(\d+)E/g,function(K,J){var I=parseInt(J);return String.fromCharCode(I)});return H};var m=function(H){H=H.replace(/^(\t|[ ]{1,4})/gm,"~0");H=H.replace(/~0/g,"");return H};var k=function(H){H=H.replace(/\t(?=\t)/g,"    ");H=H.replace(/\t/g,"~A~B");H=H.replace(/~B(.+?)~A/g,function(M,K,J){var I=K;var N=4-I.length%4;for(var L=0;L<N;L++){I+=" "}return I});H=H.replace(/~A/g,"    ");H=H.replace(/~B/g,"");return H};var x=function(K,L,J){var I="(["+L.replace(/([\[\]\\])/g,"\\$1")+"])";if(J){I="\\\\"+I}var H=new RegExp(I,"g");K=K.replace(H,F);return K};var F=function(J,I){var H=I.charCodeAt(0);return"~E"+H+"E"}};